<div class="ui window fart">
	<div class="ui header system border">
		<div class="ui close system border"></div>
		<span class="ui system text">fart.gif</span>
	</div>
	<div class="ui scroll-baby system border">
		<div class="ui scrollbar-inner">
			<img src="/fart.gif" />
		</div>
	</div>
</div>

<div class="ui window paint" id="Paint">

	<div class="ui header system border">
		<div class="ui close system border"></div>
		<span class="ui  system text">Paulie Paint QR Code <span class="webpage-title"></span></span>
	</div>



	<div class="content"></div>


</div>


<div class="ui window netsurf">

	<div class="ui header system border">
		<div class="ui close system border"></div>
		<span class="ui  system text">netsurf <span class="webpage-title"></span></span>
	</div>

	<div class="scroll-baby system border ui">
		<div class="scrollbar-inner ui">
			<div class="webpage content page1">
				<p>i do work</p>
				<p><a href="/relic">relic</a></p>

			</div>
		</div>
	</div>

</div>


<div class="ui window niftydex">

	<!-- header -->
	<div class="ui header system border">
		<div class="ui close system border"></div>
		<span class="ui  system text">niftydex <span class="webpage-title"></span></span>
	</div>

	<!-- scroll wrapper -->
	<div class="scroll-baby system border ui">
		<div class="scrollbar-inner ui">

			<!-- window content -->
			<div class="content">

			</div>
		</div>
	</div>

</div>




<!-- <div class="ui window error">

	<div class="ui header system border">
		<div class="ui close system border"></div>
		<span class="ui  system text">System32.exe</span>
	</div>


	<div class="ui scroll-baby system border">
		<div class="ui scrollbar-inner">

			<h2>incompatable hardware</h2>
			<h1>ðŸ“µ</h1>
			<p><b>acorn OS requires a computer with mouse input. no phones, sorry</p>

		</div>
	</div>

</div> -->


<!-- <div class="acornoverlay">
	<img src="/assets/preview/acorn-square.png" />
	<p>offline</p>
</div> -->


<script>
	// $(function () {
	// 	$('.ui.window.error .close').on('click', function () {
	// 		$(".acornoverlay").addClass("full");
	// 		localStorage.setItem("offline", true)
	// 	});

	// 	const previouslyOffline = localStorage.getItem("offline");

	// 	if (previouslyOffline) {
	// 		$(".acornoverlay").addClass("full");
	// 	}

	// })

	let currentZ = 13;


	$(".ui.window").draggable({ handle: '.header', containment: "body", cursor: "none" });
	$('.ui.window .scrollbar-inner').scrollbar();

	$('.ui.window .close').on('click', function () {
		$(this).parent().parent().hide()
	})
	$('.ui.header').on('mousedown', function () {
		$(this).parent().css("zIndex", currentZ++);
	});


	const makeWindowDynamic = (className, w, h, top, left, tallest, thinnest) => {
		const props = { helper: "ui-resizable-helper", minWidth: w, minHeight: h, maxHeight: tallest || h, maxWidth: thinnest || w }
		let $win = $(".window." + className);

		$win.resizable(props)
		$win.height(h).width(w)
		$win.css("top", top + "%")
		$win.css("left", left + "%")
		// $win.hide()

		$.get("/" + className, function (data) {
			$win.find('.content').prepend(data)
		}).fail(function (err) {
			console.log(err.statusText)
		})
	}


	makeWindowDynamic("niftydex", 300, 400, 10, 10, 800, 900)

	// makeWindowDynamic("fart", 330, 290, 30, 30, 800, 900)
	makeWindowDynamic("netsurf", 300, 400, 20, 70, 800, 900)
	// makePortal("paint", 400, 500, 40, 30, 210, 210)

	const $paintWindow = $("#Paint");

	$.get("/paint", function (data) {
		$("#Paint .content").prepend(data)
		}).fail(function (err) {
			console.log(err.statusText)
		})

</script>